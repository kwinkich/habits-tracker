# üìã Habits Tracker ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ, —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é —Å –ø—Ä–æ–µ–∫—Ç–æ–º **Habits Tracker**.

---

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞](#–æ–ø–∏—Å–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞)
2. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
3. [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫](#—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π-—Å—Ç–µ–∫)
4. [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
5. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
6. [–†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ](#—Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ)
7. [API Reference](#api-reference)
8. [Telegram Bot](#telegram-bot)
9. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–≤—ã—á–µ–∫](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-–ø—Ä–∏–≤—ã—á–µ–∫)
10. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ–µ–∫—Ç–∞)
11. [–°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](#—Å–∫—Ä–∏–ø—Ç—ã-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
12. [Troubleshooting](#troubleshooting)

---

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

**Habits Tracker** ‚Äî —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫ —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ Telegram. –ü–æ–∑–≤–æ–ª—è–µ—Ç:

- ‚úÖ –û—Ç–º–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫
- üì∏ –ü—Ä–∏–∫—Ä–µ–ø–ª—è—Ç—å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∫ –æ—Ç—á—ë—Ç–∞–º
- üìä –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫—Ä–∞—Å–∏–≤—ã–µ –æ—Ç—á—ë—Ç—ã –≤ Telegram –∫–∞–Ω–∞–ª/—á–∞—Ç
- ü§ñ –£–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∏–≤—ã—á–∫–∞–º–∏ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π **–º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π** —Å –¥–≤—É–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏:

```
habits/
‚îú‚îÄ‚îÄ habits-client/    # Frontend (React + TanStack Start)
‚îú‚îÄ‚îÄ habits-server/    # Backend (Express.js + Telegram Bot)
‚îî‚îÄ‚îÄ docker-compose.yml
```

### –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     HTTP      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     Telegram API     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  habits-client  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫ ‚îÇ  habits-server  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫   ‚îÇ   Telegram   ‚îÇ
‚îÇ    (React)      ‚îÇ   :5051       ‚îÇ   (Express.js)  ‚îÇ                      ‚îÇ  Bot + Chat  ‚îÇ
‚îÇ    :5050        ‚îÇ               ‚îÇ                 ‚îÇ ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ   ‚îÇ              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò               ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    Long Polling      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                          ‚îÇ
                                          ‚ñº
                                  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                  ‚îÇ  config.json  ‚îÇ
                                  ‚îÇ   (habits)    ‚îÇ
                                  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend (`habits-client`)

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| React | 19.x | UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ |
| TanStack Start | 1.x | Fullstack React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| TanStack Router | 1.x | –†–æ—É—Ç–∏–Ω–≥ |
| TanStack Query | 5.x | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º |
| Tailwind CSS | 4.x | –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è |
| Shadcn/UI | latest | UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
| React Hook Form | 7.x | –§–æ—Ä–º—ã |
| Zod | 4.x | –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º |
| Ky | 1.x | HTTP –∫–ª–∏–µ–Ω—Ç |
| Vite | 7.x | –°–±–æ—Ä—â–∏–∫ |

### Backend (`habits-server`)

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| Node.js | 20.x | –†–∞–Ω—Ç–∞–π–º |
| Express.js | 4.x | Web-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| Multer | 1.x | –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ |
| Axios | 1.x | HTTP –∫–ª–∏–µ–Ω—Ç –¥–ª—è Telegram API |
| Nodemon | 3.x | Hot reload –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ |

---

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Node.js**: >= 20.0.0
- **npm**: >= 10.0.0
- **Docker** –∏ **Docker Compose** (–¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏)

### Telegram Bot

–î–ª—è —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:

1. –°–æ–∑–¥–∞—Ç—å Telegram –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
2. –ü–æ–ª—É—á–∏—Ç—å `TELEGRAM_BOT_TOKEN`
3. –°–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª/–≥—Ä—É–ø–ø—É –∏ –¥–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
4. –ü–æ–ª—É—á–∏—Ç—å `TELEGRAM_CHAT_ID` –≥—Ä—É–ø–ø—ã/–∫–∞–Ω–∞–ª–∞

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd habits
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend

```bash
cd habits-server

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –°–æ–∑–¥–∞–Ω–∏–µ .env —Ñ–∞–π–ª–∞
cp .env.example .env
```

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ `.env` —Ñ–∞–π–ª–∞:**

```env
# Telegram Bot Configuration
TELEGRAM_BOT_TOKEN=your_bot_token_here
TELEGRAM_CHAT_ID=your_chat_id_here

# Admin Access (–¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ –±–æ—Ç–∞)
TELEGRAM_ADMIN_ID=your_telegram_user_id
TELEGRAM_ADMIN_USERNAME=@your_username

# Server
PORT=5051
```

#### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å CHAT_ID

1. –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É/–∫–∞–Ω–∞–ª
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –≥—Ä—É–ø–ø—É
3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getUpdates`
4. –ù–∞–π–¥–∏—Ç–µ `"chat":{"id":-100XXXXXXXXXX}` ‚Äî —ç—Ç–æ –≤–∞—à CHAT_ID

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend

```bash
cd habits-client

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API URL

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `src/api/ky.config.ts` –∏ —É–∫–∞–∂–∏—Ç–µ URL —Å–µ—Ä–≤–µ—Ä–∞:

```typescript
export const api = ky.extend({
  prefixUrl: 'http://localhost:5051/', // URL –≤–∞—à–µ–≥–æ backend
  // ...
})
```

---

## –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 ‚Äî Backend:**
```bash
cd habits-server
npm run dev
# –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:5051
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 ‚Äî Frontend:**
```bash
cd habits-client
npm run dev
# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ http://localhost:3000
```

### Docker Compose (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –ò–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
docker-compose up -d

# –ò–ª–∏ –¥–ª—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤
docker-compose up -d --build
```

**–ü–æ—Ä—Ç—ã:**
- Frontend: `http://localhost:5050`
- Backend: `http://localhost:5051`

### Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

```yaml
version: '3.8'

services:
  habits-client:
    build: ./habits-client
    ports:
      - "5050:5050"
    environment:
      - VITE_API_URL=http://habits-server:5051
    depends_on:
      - habits-server

  habits-server:
    build: ./habits-server
    ports:
      - "5051:5051"
    env_file:
      - ./habits-server/.env
    volumes:
      - ./habits-server/uploads:/app/uploads
```

### Production Build

```bash
# Frontend
cd habits-client
npm run build

# –†–µ–∑—É–ª—å—Ç–∞—Ç –≤ .output/
```

---

## API Reference

### –ë–∞–∑–æ–≤—ã–π URL

```
http://localhost:5051
```

### Endpoints

#### `GET /health`

Health check —Å–µ—Ä–≤–µ—Ä–∞.

**Response:**
```json
{
  "status": "ok",
  "message": "Server is running",
  "timestamp": "2026-01-21T09:30:00.000Z"
}
```

---

#### `GET /api/habits/config`

–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫.

**Response:**
```json
{
  "success": true,
  "habits": {
    "isReadBook": {
      "type": "boolean",
      "label": "Read a book",
      "emoji": "üìñ",
      "order": 1,
      "active": true
    },
    "isSport": {
      "type": "boolean",
      "label": "Sport",
      "emoji": "üèÉ",
      "order": 3,
      "active": true
    }
  },
  "version": "1.0.0",
  "lastUpdated": "2026-01-21T09:30:00.000Z"
}
```

---

#### `POST /api/habits/report`

–û—Ç–ø—Ä–∞–≤–∫–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –æ—Ç—á—ë—Ç–∞ (—Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è —Ñ–æ—Ç–æ –∫–∞–∫ –∞–ª—å–±–æ–º–∞).

**Content-Type:** `multipart/form-data`

**Body:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `photos` | File[] | –ú–∞—Å—Å–∏–≤ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –º–∞–∫—Å. 10) |
| `dayCount` | number | –ù–æ–º–µ—Ä –¥–Ω—è |
| `isReadBook` | string | "true" / "false" |
| `isSport` | string | "true" / "false" |
| *...–¥—Ä—É–≥–∏–µ –ø—Ä–∏–≤—ã—á–∫–∏* | string | "true" / "false" |

**Response:**
```json
{
  "success": true,
  "message": "Report sent successfully!",
  "photosCount": 2,
  "asAlbum": true,
  "caption": "january 21, 2026\n..."
}
```

---

#### `POST /api/habits/report-single`

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π endpoint –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ –ø–æ –æ–¥–Ω–æ–º—É (–µ—Å–ª–∏ –∞–ª—å–±–æ–º –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç).

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã `/api/habits/report`.

---

## Telegram Bot

### –û–ø–∏—Å–∞–Ω–∏–µ

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **Long Polling** –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–∏–≤—ã—á–∫–∞–º–∏ —á–µ—Ä–µ–∑ Telegram.

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|---------|----------|--------|
| `/habits` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∏–≤—ã—á–µ–∫ | `/habits` |
| `/addhabit` | –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É | `/addhabit key=isMeditate type=boolean label="üßò Meditation" emoji=üßò order=8` |
| `/updatehabit` | –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É | `/updatehabit isMeditate label="üßò Daily Meditation"` |
| `/deletehabit` | –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–≤—ã—á–∫—É | `/deletehabit isMeditate` |
| `/help` | –°–ø—Ä–∞–≤–∫–∞ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º | `/help` |

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–≤—ã—á–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `key` | string | ‚úÖ | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—á–∏–Ω–∞—Ç—å —Å `is`) |
| `type` | string | ‚ùå | –¢–∏–ø: `boolean`, `number`, `text` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `boolean`) |
| `label` | string | ‚ùå | –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ |
| `emoji` | string | ‚ùå | –≠–º–æ–¥–∑–∏ –¥–ª—è –ø—Ä–∏–≤—ã—á–∫–∏ |
| `order` | number | ‚ùå | –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ |
| `active` | boolean | ‚ùå | –ê–∫—Ç–∏–≤–Ω–∞ –ª–∏ –ø—Ä–∏–≤—ã—á–∫–∞ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: `true`) |

### –§–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞ –≤ Telegram

```
january 21, 2026
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà 100% ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üìñ Read a book ‚úÖ
üè≥ Learn English ‚ùå
üèÉ Sport ‚úÖ
üíª Coding ‚úÖ
üåÖ Wake up at 6AM ‚ùå
üò¥ Sleep at 10PM ‚úÖ
üç≠ No sugar ‚úÖ

‚è∞ 09:30

 ||#d42||
```

---

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–≤—ã—á–µ–∫

–ü—Ä–∏–≤—ã—á–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `habits-server/config.json`:

```json
{
  "habits": {
    "isReadBook": {
      "type": "boolean",
      "label": "Read a book",
      "emoji": "üìñ",
      "order": 1,
      "active": true
    },
    "isLearnEnglish": {
      "type": "boolean",
      "label": "Learn English",
      "emoji": "üè≥",
      "order": 2,
      "active": true
    }
  },
  "version": "1.0.0",
  "lastUpdated": "2026-01-21T09:30:00.000Z"
}
```

### –ü–æ–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –ü–æ–ª–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `habits` | –û–±—ä–µ–∫—Ç —Å–æ –≤—Å–µ–º–∏ –ø—Ä–∏–≤—ã—á–∫–∞–º–∏ |
| `version` | –í–µ—Ä—Å–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ |
| `lastUpdated` | –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è |

> **–í–∞–∂–Ω–æ:** –§–∞–π–ª –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞.

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
habits/
‚îú‚îÄ‚îÄ docker-compose.yml          # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ habits-client/              # Frontend
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.ts          # Vite –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îú‚îÄ‚îÄ components.json         # Shadcn –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ public/                 # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ api/                # API —Å–ª–æ–π
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ habits.api.ts   # API –º–µ—Ç–æ–¥—ã
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ ky.config.ts    # HTTP –∫–ª–∏–µ–Ω—Ç
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ useHabits.ts    # React Query —Ö—É–∫
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ useSendReport.ts
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ components/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ ui/             # Shadcn UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ button.tsx
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ checkbox.tsx
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ form.tsx
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ input.tsx
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ label.tsx
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ lib/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ utils.ts        # –£—Ç–∏–ª–∏—Ç—ã (cn)
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ routes/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ __root.tsx      # Root layout
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ index.tsx       # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ schemas/            # Zod —Å—Ö–µ–º—ã
‚îÇ       ‚îú‚îÄ‚îÄ router.tsx          # Router –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ       ‚îî‚îÄ‚îÄ styles.css          # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ + Tailwind
‚îÇ
‚îî‚îÄ‚îÄ habits-server/              # Backend
    ‚îú‚îÄ‚îÄ Dockerfile
    ‚îú‚îÄ‚îÄ package.json
    ‚îú‚îÄ‚îÄ .env                    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
    ‚îú‚îÄ‚îÄ config.json             # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–≤—ã—á–µ–∫
    ‚îú‚îÄ‚îÄ server.js               # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
    ‚îî‚îÄ‚îÄ uploads/                # –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
```

---

## –°–∫—Ä–∏–ø—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### Frontend (`habits-client`)

```bash
npm run dev       # –ó–∞–ø—É—Å–∫ dev —Å–µ—Ä–≤–µ—Ä–∞ (–ø–æ—Ä—Ç 3000)
npm run build     # Production —Å–±–æ—Ä–∫–∞
npm run preview   # –ü—Ä–µ–≤—å—é production —Å–±–æ—Ä–∫–∏
npm run test      # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ (Vitest)
npm run lint      # –õ–∏–Ω—Ç–∏–Ω–≥ (ESLint)
npm run format    # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Prettier)
npm run check     # Prettier + ESLint —Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–æ–º
```

### Backend (`habits-server`)

```bash
npm start         # –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞ (production)
npm run dev       # –ó–∞–ø—É—Å–∫ —Å nodemon (development)
```

### Docker

```bash
# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose up -d

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker-compose up -d --build

# –õ–æ–≥–∏
docker-compose logs -f

# –õ–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f habits-server
docker-compose logs -f habits-client
```

---

## Troubleshooting

### –û—à–∏–±–∫–∞: "Telegram credentials not configured"

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ —Ñ–∞–π–ª–µ `.env` –ø—Ä–∞–≤–∏–ª—å–Ω–æ —É–∫–∞–∑–∞–Ω—ã:
- `TELEGRAM_BOT_TOKEN`
- `TELEGRAM_CHAT_ID`

### –û—à–∏–±–∫–∞: "Access denied. You are not admin."

**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `.env` —É–∫–∞–∑–∞–Ω –≤–∞—à Telegram ID –∏–ª–∏ username:
```env
TELEGRAM_ADMIN_ID=845165899
TELEGRAM_ADMIN_USERNAME=@your_username
```

–£–∑–Ω–∞—Ç—å —Å–≤–æ–π ID –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ –±–æ—Ç–∞ [@userinfobot](https://t.me/userinfobot).

### Frontend –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Backend

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω: `curl http://localhost:5051/health`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ `src/api/ky.config.ts`
3. –ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ Docker, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `http://habits-server:5051` –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–≤—è–∑–∏

### –§–æ—Ç–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Telegram

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã:**
1. –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (–ª–∏–º–∏—Ç: 10MB)
2. –ù–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: jpg, png, gif, webp)
3. –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª–µ

**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π endpoint `/api/habits/report-single`

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –∫–æ–º–∞–Ω–¥—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫ polling
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `TELEGRAM_BOT_TOKEN` –≤–∞–ª–∏–¥–Ω—ã–π
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

### CORS –æ—à–∏–±–∫–∏

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à origin –≤ –º–∞—Å—Å–∏–≤ `cors` –≤ `server.js`:
```javascript
app.use(cors({
  origin: [
    'http://localhost:5173',
    'http://localhost:3000',
    'http://localhost:5050',
    'http://your-domain.com', // –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω
  ],
  credentials: true,
}))
```

---

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.
